#N canvas 107 137 824 395 10;
#X obj 44 29 bng 50 250 50 0 empty empty 1 17 25 0 25 -203904 -262144
-1;
#X floatatom 174 62 10 0 0 0 - #0-IRsize -;
#X symbolatom 174 30 30 0 0 0 - #0-IRname -;
#N canvas 578 205 532 423 load-IR 0;
#X obj 22 25 inlet;
#X obj 22 219 soundfiler;
#X obj 67 137 f \$0;
#X obj 67 112 loadbang;
#X floatatom 38 244 8 0 0 0 - - -;
#X obj 47 112 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 22 162 pack s f;
#X floatatom 80 163 5 0 0 0 - - -;
#X obj 22 400 outlet;
#X obj 22 55 openpanel;
#X msg 22 193 read -resize \$1 \$2-impulse-response;
#X obj 72 306 s \$0-IRsize;
#N canvas 223 221 248 171 IRname 0;
#X obj 35 31 inlet;
#X obj 35 61 hcs/split_path;
#X obj 116 124 s \$0-IRname;
#X msg 155 62 -;
#X obj 155 33 loadbang;
#X obj 155 94 symbol;
#X connect 0 0 1 0;
#X connect 1 1 2 0;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 2 0;
#X restore 36 82 pd IRname;
#X obj 269 178 tabminmax \$0-impulse-response;
#X floatatom 440 249 5 0 0 0 - - -;
#X obj 269 157 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 269 202 5 0 0 0 - - -;
#X obj 440 206 unpack;
#X floatatom 473 231 8 0 0 0 - - -;
#X obj 33 366 s \$0-IRloaded;
#X obj 325 23 loadbang;
#X msg 325 50 \; pd dsp 1;
#X symbolatom 134 114 60 0 0 0 - - -;
#X obj 133 81 symbol;
#X obj 133 26 inlet;
#X text 174 27 reload last IR;
#X text 60 25 load IR;
#N canvas 0 22 343 213 default-cuepoints 0;
#X obj 27 29 inlet;
#X obj 45 69 >> 1;
#X text 132 136 set cuepoints to default values;
#X obj 45 95 s \$0-set-time-zero;
#X obj 27 144 s \$0-set-time-N;
#X connect 0 0 1 0;
#X connect 0 0 4 0;
#X connect 1 0 3 0;
#X restore 52 330 pd default-cuepoints;
#X obj 33 269 t b f f;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-impulse-response 5142 float 2;
#X coords 0 1 5142 -1 113 50 1;
#X restore 220 345 graph;
#X obj 389 64 s \$0-deciBels;
#X msg 389 40 const 60;
#X obj 353 325 loadbang;
#X obj 353 378 s \$0-impulse-response;
#X msg 353 356 resize 4096;
#X connect 0 0 9 0;
#X connect 1 0 4 0;
#X connect 1 0 8 0;
#X connect 1 0 28 0;
#X connect 2 0 6 1;
#X connect 2 0 7 0;
#X connect 3 0 2 0;
#X connect 5 0 2 0;
#X connect 6 0 10 0;
#X connect 9 0 6 0;
#X connect 9 0 12 0;
#X connect 9 0 23 1;
#X connect 9 0 22 0;
#X connect 10 0 1 0;
#X connect 13 0 16 0;
#X connect 13 1 17 0;
#X connect 15 0 13 0;
#X connect 17 0 14 0;
#X connect 17 1 18 0;
#X connect 20 0 21 0;
#X connect 20 0 31 0;
#X connect 23 0 6 0;
#X connect 24 0 23 0;
#X connect 28 0 19 0;
#X connect 28 1 27 0;
#X connect 28 2 11 0;
#X connect 31 0 30 0;
#X connect 34 0 33 0;
#X restore 44 88 pd load-IR;
#X text 20 248 1;
#X obj 44 256 cnv 15 350 100 empty empty empty 20 12 0 14 -233017 -66577
0;
#X text 21 345 0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-IR-magnitude-spectrum 65537 float 0;
#X coords 0 1.5 65536 0 350 150 1;
#X restore 44 207 graph;
#X text 788 249 0;
#X floatatom 744 361 5 0 0 0 - #0-nyquist -;
#X floatatom 426 361 5 0 0 0 - #0-FFT-fundamental -;
#X text 166 362 Hz \, linear;
#X text 574 361 Hz \, log;
#X text 786 292 dB;
#X text 13 291 magn.;
#X floatatom 362 361 5 0 0 0 - #0-nyquist -;
#X floatatom 44 362 5 0 1 0 - - -;
#X obj 655 30 bng 50 250 50 0 empty empty 4 17 25 0 25 -203904 -262144
-1;
#X obj 533 28 bng 50 250 50 0 empty empty 3 17 25 0 25 -203904 -262144
-1;
#N canvas 576 298 451 345 test 0;
#X obj 31 264 inlet;
#X floatatom 31 199 4 0 0 0 - - -;
#X obj 157 47 hsl 260 25 20 22000 1 0 empty empty frequency 20 12 0
10 -203904 -260097 -1 0 0;
#X floatatom 163 83 8 0 0 0 - - -;
#X obj 154 188 cyclone/Scope~ 267 132 15 3 128 -1 1 0 0 0 0 102 255
51 30 30 30 0;
#X text 323 167 [cyclone/Scope~];
#X obj 174 146 hsl 128 15 128 2 0 1 empty empty scope-refresh-rate
10 8 0 10 -203904 -260097 -1 11300 0;
#X obj 31 43 tgl 50 0 empty empty sine 9 25 0 12 -203904 -262144 -1
0 1;
#X floatatom 163 108 8 0 0 0 - - -;
#X text 59 200 dB;
#N canvas 0 22 143 200 dB 0;
#X obj 20 41 inlet~;
#X obj 20 74 env~ 8192;
#X obj 20 127 - 100;
#X obj 20 101 change;
#X obj 20 155 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X restore 31 170 pd dB;
#N canvas 99 360 282 252 convolution------- 0;
#N canvas 0 22 294 183 set-partconv~ 0;
#X obj 29 109 outlet;
#X obj 29 54 f \$0;
#X text 28 136 [partconv~] needs to reload table content;
#X msg 29 82 set \$1-impulse-response;
#X obj 29 24 r \$0-IRloaded;
#X connect 1 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 1 0;
#X restore 29 154 pd set-partconv~;
#X obj 36 9 inlet;
#X obj 15 218 outlet~;
#X obj 79 218 outlet~;
#X obj 49 124 switch~;
#X obj 83 10 inlet;
#X obj 36 79 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 83 79 osc~ 200;
#X obj 15 124 *~ 0;
#X msg 129 39 0;
#X obj 129 11 loadbang;
#X obj 15 179 bsaylor/partconv~ \$0-impulse-response 4096;
#X connect 0 0 11 0;
#X connect 1 0 6 0;
#X connect 5 0 7 0;
#X connect 6 0 4 0;
#X connect 6 0 8 1;
#X connect 7 0 8 0;
#X connect 8 0 11 0;
#X connect 9 0 6 0;
#X connect 10 0 9 0;
#X connect 11 0 2 0;
#X connect 11 0 3 0;
#X restore 31 144 pd convolution-------;
#X text 30 16 convolve test signal with IR;
#X msg 31 289 \; pd-test vis 1;
#X connect 0 0 13 0;
#X connect 2 0 11 1;
#X connect 2 0 3 0;
#X connect 6 0 4 0;
#X connect 7 0 11 0;
#X connect 8 0 11 1;
#X connect 10 0 1 0;
#X connect 11 0 10 0;
#X connect 11 1 4 0;
#X restore 533 86 pd test;
#N canvas 475 207 521 357 sound 0;
#X obj 391 131 inlet;
#X obj 32 79 bng 50 250 50 0 empty empty play 9 25 0 12 -203904 -262144
-1;
#X obj 123 79 bng 50 250 50 0 empty empty stop 9 25 0 12 -203904 -262144
-1;
#X obj 56 235 hsl 200 25 0 1 0 0 empty empty audio-level 20 12 0 10
-203904 -260097 -1 0 0;
#X obj 32 276 *~ 0;
#X floatatom 68 277 5 0 0 0 - - -;
#X floatatom 54 204 4 0 0 0 - - -;
#X obj 32 313 dac~;
#X obj 297 235 hsl 200 25 0 1 0 0 empty empty audio-level 20 12 0 10
-203904 -260097 -1 0 0;
#X obj 273 276 *~ 0;
#X floatatom 309 277 5 0 0 0 - - -;
#X obj 273 313 dac~;
#X floatatom 290 207 4 0 0 0 - - -;
#X obj 273 158 +~;
#X text 122 270 convolved signal;
#X text 378 270 dry signal;
#X text 30 53 play a soundfile;
#N canvas 74 364 436 355 convolution----------------- 0;
#N canvas 0 22 294 183 set-partconv~ 0;
#X obj 29 109 outlet;
#X obj 29 54 f \$0;
#X text 28 136 [partconv~] needs to reload table content;
#X msg 29 82 set \$1-impulse-response;
#X obj 29 24 r \$0-IRloaded;
#X connect 1 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 1 0;
#X restore 77 277 pd set-partconv~;
#X obj 14 5 inlet;
#X obj 65 138 readsf~;
#X obj 14 33 openpanel;
#X obj 14 58 t s s;
#X obj 125 8 inlet;
#X obj 65 331 outlet~;
#X msg 65 82 open \$1;
#X obj 129 331 outlet~;
#X obj 220 256 switch~;
#X msg 125 82 0;
#X msg 14 81 1;
#X msg 137 155 0;
#X obj 201 8 inlet;
#X obj 159 53 adc~;
#X obj 180 95 *~ 0;
#X obj 187 172 f;
#X obj 220 202 ||;
#X obj 220 95 != 0;
#X obj 220 229 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 220 122 change;
#X obj 220 172 t b f;
#X obj 65 305 bsaylor/partconv~ \$0-impulse-response 4096;
#X connect 0 0 22 0;
#X connect 1 0 3 0;
#X connect 2 0 8 0;
#X connect 2 0 22 0;
#X connect 2 1 12 0;
#X connect 3 0 4 0;
#X connect 4 0 11 0;
#X connect 4 1 7 0;
#X connect 5 0 10 0;
#X connect 7 0 2 0;
#X connect 10 0 2 0;
#X connect 10 0 16 0;
#X connect 11 0 2 0;
#X connect 11 0 16 0;
#X connect 12 0 16 0;
#X connect 13 0 15 1;
#X connect 13 0 18 0;
#X connect 14 0 15 0;
#X connect 14 1 15 0;
#X connect 15 0 22 0;
#X connect 15 0 8 0;
#X connect 16 0 17 0;
#X connect 17 0 19 0;
#X connect 18 0 20 0;
#X connect 19 0 9 0;
#X connect 20 0 21 0;
#X connect 21 0 17 0;
#X connect 21 1 17 1;
#X connect 22 0 6 0;
#X restore 32 141 pd convolution-----------------;
#X obj 218 80 hsl 200 25 0 1 0 0 empty empty input-level 20 12 0 10
-203904 -260097 -1 0 0;
#X floatatom 224 116 5 0 0 0 - - -;
#X text 213 53 or use [adc~] soundcard input;
#N canvas 0 22 143 200 dB 0;
#X obj 20 41 inlet~;
#X obj 20 74 env~ 8192;
#X obj 20 127 - 100;
#X obj 20 101 change;
#X obj 20 155 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X restore 54 177 pd dB;
#N canvas 0 22 143 200 dB 0;
#X obj 20 41 inlet~;
#X obj 20 74 env~ 8192;
#X obj 20 127 - 100;
#X obj 20 101 change;
#X obj 20 155 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X restore 290 182 pd dB;
#X msg 391 157 \; pd-sound vis 1;
#X text 32 11 use the IR as a FIR filter with partitioned fast convolution
;
#X connect 0 0 23 0;
#X connect 1 0 17 0;
#X connect 2 0 17 1;
#X connect 3 0 5 0;
#X connect 3 0 4 1;
#X connect 4 0 7 0;
#X connect 4 0 7 1;
#X connect 8 0 10 0;
#X connect 8 0 9 1;
#X connect 9 0 11 0;
#X connect 9 0 11 1;
#X connect 13 0 9 0;
#X connect 13 0 22 0;
#X connect 17 0 4 0;
#X connect 17 0 21 0;
#X connect 17 1 13 0;
#X connect 18 0 17 2;
#X connect 18 0 19 0;
#X connect 21 0 6 0;
#X connect 22 0 12 0;
#X restore 655 87 pd sound;
#X obj 387 27 bng 50 250 50 0 empty empty 2 17 25 0 25 -203904 -262144
-1;
#X text 442 24 spectrum;
#X obj 426 256 cnv 15 350 100 empty empty empty 20 12 0 14 -233017
-66577 0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-deciBels 65537 float 0;
#X coords 0 120 65536 60 350 150 1;
#X restore 426 207 graph;
#X text 778 346 -40;
#X text 16 200 1.5;
#X text 442 41 details;
#X obj 390 111 hsl 96 15 0 20 0 0 empty empty computation 17 8 0 10
-228856 -258113 -1 0 1;
#X text 591 25 test;
#X text 591 41 signals;
#X text 712 26 convolution;
#X text 712 45 filter;
#N canvas 414 98 690 513 spectral-data 0;
#X obj 455 164 inlet;
#N canvas 248 227 882 481 compute-spectrum 0;
#X msg 61 101 const 0;
#X obj 22 76 t b b b;
#X text 116 103 clear sum buffer;
#X msg 41 167 1;
#X obj 22 219 tabplay~ \$0-impulse-response;
#X msg 74 167 0;
#X obj 22 254 rfft~;
#N canvas 651 584 206 163 pyth~ 0;
#X obj 34 60 *~;
#X obj 34 29 inlet~;
#X obj 96 60 *~;
#X obj 96 29 inlet~;
#X obj 34 97 sqrt~;
#X obj 34 130 outlet~;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 1 0 0 1;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X restore 22 288 pd pyth~;
#X obj 22 340 +~;
#X obj 224 369 outlet;
#X obj 187 257 s \$0-spectrum-done;
#X obj 37 312 tabreceive~ \$0-IR-magnitude-sum;
#X obj 22 369 tabsend~ \$0-IR-magnitude-sum;
#X obj 211 20 table \$0-IR-magnitude-sum 1025;
#X obj 408 202 r \$0-spectrum-done;
#X obj 408 262 t f f;
#X obj 408 295 tabread \$0-IR-magnitude-sum;
#X obj 408 330 tabwrite \$0-IR-magnitude-spectrum;
#X obj 61 124 s \$0-IR-magnitude-sum;
#X obj 408 88 samplerate~;
#X obj 408 60 loadbang;
#X obj 408 162 s \$0-FFT-fundamental;
#X obj 489 105 / 2;
#X obj 489 133 s \$0-nyquist;
#X obj 22 17 r \$0-IRloaded;
#X obj 483 260 s \$0-magnitudes-done;
#X msg 132 178 set \$1;
#X obj 584 52 / 2;
#X obj 584 19 r \$0-fftsize;
#X obj 132 150 r \$0-fftsize;
#N canvas 0 22 348 364 fftsize 0;
#X obj 42 10 r \$0-fftsize-button;
#X obj 42 43 + 10;
#X obj 55 67 s \$0-log-fftsize;
#X obj 42 94 t f f;
#X obj 42 127 t b f;
#X msg 42 159 2;
#X obj 42 190 pow;
#X obj 56 218 s \$0-fftsize;
#X obj 42 296 outlet;
#X text 86 296 fftsize;
#X obj 242 58 vradio 30 1 1 8 \$0-fftsize-button empty empty 0 -8 0
10 -262144 -260097 -1 7;
#X text 209 63 1024;
#X text 208 93 2048;
#X text 206 123 4096;
#X text 204 154 8192;
#X text 199 185 16384;
#X text 201 216 32768;
#X text 200 244 65536;
#X text 195 275 131072;
#X text 215 30 fft size;
#X text 41 323 default fft size is 2^17 for precision purpose;
#X msg 56 268 131072;
#X obj 56 244 loadbang;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 6 1;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 0 8 0;
#X connect 21 0 8 0;
#X connect 22 0 21 0;
#X restore 263 93 pd fftsize;
#X floatatom 263 121 8 0 0 0 - - -;
#N canvas 262 22 264 350 resize-tables 0;
#X obj 38 42 r \$0-fftsize;
#X obj 38 83 / 2;
#X msg 65 178 resize \$1;
#X obj 38 116 + 1;
#X obj 65 253 s \$0-IR-magnitude-sum;
#X obj 82 227 s \$0-IR-magnitude-spectrum;
#X obj 95 203 s \$0-deciBels;
#X obj 38 144 t b f;
#X obj 38 298 s \$0-recompute-fft;
#X obj 128 42 loadbang;
#X msg 128 66 65536;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 4 0;
#X connect 2 0 6 0;
#X connect 2 0 5 0;
#X connect 3 0 7 0;
#X connect 7 1 2 0;
#X connect 9 0 10 0;
#X restore 212 49 pd resize-tables;
#X obj 59 43 r \$0-recompute-fft;
#X obj 651 59 r \$0-spectrum-done;
#X msg 651 211 2;
#X obj 651 185 t b f;
#X obj 651 238 pow;
#X obj 651 110 t f f;
#X obj 651 352 tabread \$0-IR-magnitude-sum;
#X obj 651 264 - 1;
#X obj 651 322 + 32;
#X obj 651 160 * 11;
#X obj 651 293 * 32;
#X floatatom 695 308 5 0 0 0 - - -;
#X obj 651 135 / 65536;
#X obj 651 84 for++ 0 65536;
#X obj 695 276 / 2048;
#X text 744 277 2^11;
#X text 683 159 11 octaves in log freq spectrum;
#X obj 651 382 rmstodb;
#X obj 651 446 tabwrite \$0-deciBels;
#X obj 630 60 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 408 235 for++ 0 65536;
#X obj 651 413 clip 60 120;
#X obj 32 44 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 605 370 263 319 computing 0;
#X obj 29 26 inlet;
#X obj 29 294 outlet;
#X obj 29 170 metro;
#X msg 96 108 0;
#X msg 29 78 1;
#X floatatom 127 30 8 0 0 0 - - -;
#X obj 96 85 pipe;
#X obj 29 146 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 29 225 f;
#X obj 44 199 + 1;
#X obj 29 52 t b b;
#X msg 56 78 0;
#X floatatom 38 248 5 0 0 0 - - -;
#X floatatom 68 171 8 0 0 0 - - -;
#X obj 141 295 s \$0-IR-done;
#X obj 141 268 delay 500;
#X obj 56 144 / 20;
#X obj 141 242 sel 20;
#N canvas 904 166 198 247 IRmilliseconds 0;
#X obj 27 218 outlet;
#X obj 60 82 samplerate~;
#X obj 60 38 loadbang;
#X obj 74 60 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 60 122 / 1000;
#X floatatom 72 151 8 0 0 0 - - -;
#X obj 27 151 / 44.1;
#X floatatom 42 187 8 0 0 0 - - -;
#X obj 27 14 r \$0-IRsize;
#X connect 1 0 4 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 4 0 6 1;
#X connect 6 0 7 0;
#X connect 6 0 0 0;
#X connect 8 0 6 0;
#X restore 117 5 pd IRmilliseconds;
#X connect 0 0 10 0;
#X connect 2 0 8 0;
#X connect 3 0 7 0;
#X connect 4 0 7 0;
#X connect 6 0 3 0;
#X connect 7 0 2 0;
#X connect 8 0 1 0;
#X connect 8 0 9 0;
#X connect 8 0 12 0;
#X connect 8 0 17 0;
#X connect 9 0 8 1;
#X connect 10 0 4 0;
#X connect 10 0 6 0;
#X connect 10 1 11 0;
#X connect 11 0 8 0;
#X connect 15 0 14 0;
#X connect 16 0 13 0;
#X connect 16 0 2 1;
#X connect 17 0 15 0;
#X connect 18 0 5 0;
#X connect 18 0 16 0;
#X connect 18 0 6 1;
#X restore 224 343 pd computing;
#X obj 408 133 / 2048;
#X obj 41 195 switch~ 131072;
#X connect 0 0 18 0;
#X connect 1 0 4 0;
#X connect 1 1 3 0;
#X connect 1 2 0 0;
#X connect 1 2 56 0;
#X connect 3 0 58 0;
#X connect 4 0 6 0;
#X connect 4 1 10 0;
#X connect 4 1 5 0;
#X connect 5 0 58 0;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 7 0 8 0;
#X connect 8 0 12 0;
#X connect 11 0 8 1;
#X connect 14 0 53 0;
#X connect 15 0 16 0;
#X connect 15 1 17 1;
#X connect 16 0 17 0;
#X connect 19 0 22 0;
#X connect 19 0 57 0;
#X connect 20 0 19 0;
#X connect 22 0 23 0;
#X connect 24 0 1 0;
#X connect 26 0 58 0;
#X connect 27 0 47 0;
#X connect 27 0 46 1;
#X connect 27 0 45 1;
#X connect 27 0 53 1;
#X connect 28 0 27 0;
#X connect 29 0 26 0;
#X connect 30 0 31 0;
#X connect 33 0 1 0;
#X connect 34 0 46 0;
#X connect 35 0 37 0;
#X connect 36 0 35 0;
#X connect 36 1 37 1;
#X connect 37 0 40 0;
#X connect 38 0 45 0;
#X connect 38 1 51 1;
#X connect 39 0 50 0;
#X connect 40 0 43 0;
#X connect 41 0 39 0;
#X connect 42 0 36 0;
#X connect 43 0 41 0;
#X connect 45 0 42 0;
#X connect 46 0 38 0;
#X connect 47 0 41 1;
#X connect 47 0 43 1;
#X connect 47 0 44 0;
#X connect 50 0 54 0;
#X connect 52 0 46 0;
#X connect 53 0 15 0;
#X connect 53 1 25 0;
#X connect 54 0 51 0;
#X connect 55 0 1 0;
#X connect 56 0 9 0;
#X connect 57 0 21 0;
#X restore 536 42 pd compute-spectrum;
#N canvas 426 91 442 276 magnitude-peak 0;
#X obj 30 55 tabminmax \$0-IR-magnitude-spectrum;
#X obj 231 82 unpack;
#X obj 231 246 outlet;
#X obj 316 56 samplerate~;
#X obj 301 246 outlet;
#X obj 316 30 loadbang;
#X obj 301 219 *;
#X obj 293 32 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X floatatom 264 117 8 0 0 0 - - -;
#X obj 30 24 r \$0-magnitudes-done;
#X obj 335 89 r \$0-fftsize;
#X obj 335 142 t b f;
#X obj 316 171 / 131072;
#X connect 0 1 1 0;
#X connect 1 0 2 0;
#X connect 1 1 6 0;
#X connect 1 1 8 0;
#X connect 3 0 12 0;
#X connect 5 0 3 0;
#X connect 6 0 4 0;
#X connect 7 0 3 0;
#X connect 9 0 0 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 11 1 12 1;
#X connect 12 0 6 1;
#X restore 154 45 pd magnitude-peak;
#X floatatom 154 70 8 0 0 0 - - -;
#X floatatom 253 70 8 0 0 0 - - -;
#X text 250 88 frequency;
#X text 153 88 magnitude;
#X obj 42 20 bng 50 250 50 0 empty empty empty 17 25 0 25 -203904 -262144
-1;
#N canvas 722 235 367 150 lists 0;
#X obj 152 122 s \$0-IR-magnitude-spectrum;
#X msg 27 40 arrayviewlistnew;
#X obj 164 97 s \$0-deciBels;
#X obj 27 14 inlet;
#X obj 153 31 r \$0-fftsize-button;
#X msg 152 55 arrayviewclose;
#X text 243 55 prevent freeze;
#X connect 1 0 0 0;
#X connect 1 0 2 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X connect 5 0 0 0;
#X restore 42 80 pd lists;
#X obj 536 101 outlet;
#X obj 38 355 cnv 15 300 100 empty empty empty 20 12 0 14 -233017 -66577
0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-low-frequencies 256 float 0;
#X coords 0 1.5 255 0 300 150 1;
#X restore 38 305 graph;
#X text 21 444 0;
#X text 21 347 1;
#X text 21 394 A;
#X symbolatom 154 20 30 0 0 0 - #0-IRname -;
#N canvas 250 445 846 330 spectrum-zoom 0;
#X obj 30 230 tabread \$0-IR-magnitude-spectrum;
#X obj 30 200 t f f;
#X obj 30 171 for++;
#X obj 43 118 - 1;
#X floatatom 53 145 8 0 0 0 - - -;
#X msg 106 111 resize \$1;
#X obj 284 229 tabread \$0-IR-magnitude-spectrum;
#X obj 284 178 t f f;
#X obj 284 204 +;
#X obj 284 149 for++;
#X obj 297 93 - 1;
#X floatatom 336 122 8 0 0 0 - - -;
#X obj 328 65 / 2;
#X obj 328 38 t f f;
#X obj 328 93 -;
#X obj 328 149 + 1;
#X obj 355 65 / 64;
#X msg 403 128 resize \$1;
#X obj 43 67 r \$0-fftsize;
#X obj 328 13 r \$0-fftsize;
#X obj 30 42 r \$0-magnitudes-done;
#X obj 31 255 tabwrite \$0-low-frequencies;
#X obj 106 141 s \$0-low-frequencies;
#X obj 284 257 tabwrite \$0-high-frequencies;
#X obj 403 158 s \$0-high-frequencies;
#X obj 43 94 / 512;
#X obj 609 43 samplerate~;
#X obj 604 145 / 512;
#X obj 611 15 loadbang;
#X obj 586 18 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X floatatom 606 195 5 0 0 0 - - -;
#X obj 669 131 / 2;
#X obj 705 130 / 64;
#X obj 669 95 t f f;
#X floatatom 667 180 5 0 0 0 - - -;
#X floatatom 709 180 5 0 0 0 - - -;
#X obj 684 230 -;
#X floatatom 683 283 5 0 0 0 - - -;
#X obj 682 262 int;
#X obj 576 246 s \$0-freq1;
#X obj 736 295 s \$0-freq2;
#X obj 711 222 s \$0-freq3;
#X connect 0 0 21 0;
#X connect 1 0 0 0;
#X connect 1 1 21 1;
#X connect 2 0 1 0;
#X connect 3 0 2 1;
#X connect 3 0 4 0;
#X connect 5 0 22 0;
#X connect 6 0 23 0;
#X connect 7 0 8 0;
#X connect 7 1 23 1;
#X connect 8 0 6 0;
#X connect 9 0 7 0;
#X connect 10 0 9 1;
#X connect 12 0 14 0;
#X connect 13 0 12 0;
#X connect 13 1 16 0;
#X connect 14 0 11 0;
#X connect 14 0 15 0;
#X connect 15 0 8 1;
#X connect 16 0 10 0;
#X connect 16 0 14 1;
#X connect 16 0 17 0;
#X connect 17 0 24 0;
#X connect 18 0 25 0;
#X connect 19 0 13 0;
#X connect 20 0 2 0;
#X connect 20 0 9 0;
#X connect 25 0 3 0;
#X connect 25 0 5 0;
#X connect 26 0 27 0;
#X connect 26 0 33 0;
#X connect 27 0 30 0;
#X connect 27 0 39 0;
#X connect 28 0 26 0;
#X connect 29 0 26 0;
#X connect 31 0 34 0;
#X connect 31 0 36 0;
#X connect 31 0 41 0;
#X connect 32 0 35 0;
#X connect 32 0 36 1;
#X connect 33 0 31 0;
#X connect 33 1 32 0;
#X connect 36 0 38 0;
#X connect 38 0 37 0;
#X connect 38 0 40 0;
#X restore 536 19 pd spectrum-zoom;
#X obj 360 355 cnv 15 300 100 empty empty empty 20 12 0 14 -233017
-66577 0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-high-frequencies 2048 float 0;
#X coords 0 1.5 2047 0 300 150 1;
#X restore 360 305 graph;
#X floatatom 307 464 5 0 0 0 - #0-freq1 -;
#X floatatom 360 464 5 0 0 0 - #0-freq2 -;
#X floatatom 629 463 5 0 0 0 - #0-freq3 -;
#X floatatom 39 463 5 0 0 0 - - -;
#X text 121 464 Hz >> (linear);
#X text 459 462 Hz >> (linear);
#X obj 387 20 bng 50 250 50 0 empty empty empty 17 25 0 25 -203904
-262144 -1;
#N canvas 0 22 253 190 normalize 0;
#X obj 33 35 inlet;
#X obj 60 116 s \$0-impulse-response;
#X msg 60 91 normalize;
#X obj 33 140 s \$0-recompute-fft;
#X obj 33 64 t b b;
#X connect 0 0 4 0;
#X connect 2 0 1 0;
#X connect 4 0 3 0;
#X connect 4 1 2 0;
#X restore 387 79 pd normalize;
#X text 35 230 To check a chirp self-IR \, you may wish to peak-normalize
it. The spectrum will be recomputed.;
#X text 36 165 In the plots below \, the low and high extremes of the
spectrum are shown. For many impulse responses \, little energy is
in this regions \, but it is useful for checking the chirp self-IR
and for IR's with large bandwidths.;
#X obj 548 71 hsl 96 15 0 10 0 0 empty empty computation 17 8 0 10
-228856 -258113 -1 0 1;
#X text 97 35 lists;
#X text 98 16 view;
#X text 443 34 normalize;
#X text 443 15 peak-;
#X text 443 52 IR;
#X msg 455 193 \; pd-spectral-data vis 1;
#X connect 0 0 35 0;
#X connect 1 0 9 0;
#X connect 1 0 29 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 7 0 8 0;
#X connect 25 0 26 0;
#X restore 387 86 pd spectral-data;
#X text 101 44 impulse;
#X text 101 62 response;
#X text 100 25 load;
#X text 240 62 samples;
#X obj 38 128 cnv 15 15 15 empty empty IR-analyser 2 14 0 25 -262144
-66577 0;
#X text 778 198 +20;
#X connect 0 0 3 0;
#X connect 17 0 20 0;
#X connect 18 0 19 0;
#X connect 21 0 33 0;
#X connect 33 0 28 0;

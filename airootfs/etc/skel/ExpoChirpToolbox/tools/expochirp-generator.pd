#N canvas 62 36 766 556 10;
#N canvas 606 83 402 412 tables 0;
#X msg 244 63 arrayviewlistnew;
#X msg 243 199 arrayviewlistnew;
#X msg 238 340 arrayviewlistnew;
#X obj 238 367 s \$0-impulse-response;
#X obj 243 225 s \$0-invchirp;
#X obj 244 90 s \$0-chirp;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-chirp 440066 float 2;
#X coords 0 1 440066 -1 200 100 1;
#X restore 25 36 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-invchirp 440066 float 2;
#X coords 0 7 440066 -7 200 100 1;
#X restore 25 163 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-impulse-response 880132 float 2;
#X coords 0 1 880132 -1 200 100 1;
#X restore 25 292 graph;
#X connect 0 0 5 0;
#X connect 1 0 4 0;
#X connect 2 0 3 0;
#X restore 667 74 pd tables;
#X obj 200 98 hsl 96 15 0 20 0 0 empty empty computation 17 8 0 10
-228856 -258113 -1 0 1;
#X obj 40 14 bng 50 250 50 0 empty empty 1 20 25 0 20 -203904 -262144
-1;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-IRmonitor 8192 float 2;
#X coords 0 1 8192 -1 600 280 1;
#X restore 39 202 graph;
#N canvas 619 213 514 492 IRmonitor 0;
#X obj 32 212 t f f;
#X obj 32 444 tabwrite \$0-IRmonitor;
#X obj 325 364 s \$0-IRmonitor;
#X msg 325 248 resize \$1;
#X obj 32 188 for++ 0 16000;
#X obj 32 286 +;
#X floatatom 230 251 8 0 0 0 - - -;
#X obj 32 131 t b f;
#X obj 32 312 tabread4 \$0-impulse-response;
#X msg 344 305 arrayviewlistnew;
#X obj 69 159 - 1;
#X floatatom 71 108 8 0 0 0 - - -;
#X obj 230 222 +;
#N canvas 351 22 367 535 vzoom 0;
#X obj 42 18 r \$0-log-vzoom;
#X obj 42 143 t b f;
#X obj 42 198 pow;
#X floatatom 92 227 8 0 0 0 - - -;
#X obj 258 215 makesymbol;
#X obj 258 272 s \$0-vzoom-label;
#X obj 42 68 5;
#X obj 42 42 t b f;
#X obj 42 94 -;
#X obj 42 118 abs;
#X obj 111 381 * -1;
#X obj 42 446 pack 0 0 0 0;
#X msg 42 473 bounds \$1 \$2 \$3 \$4;
#X obj 42 350 t b f f;
#X obj 42 301 f 1;
#X obj 42 325 /;
#X obj 42 278 t b f;
#X obj 42 503 s \$0-IRmonitor;
#X obj 88 413 r \$0-IRmonitor-size;
#X obj 203 340 s \$0-vplus;
#X obj 170 372 s \$0-vminus;
#X obj 203 263 1;
#X obj 203 238 t b f;
#X obj 203 290 /;
#X floatatom 213 316 8 0 0 0 - - -;
#X obj 170 339 * -1;
#X obj 69 254 s \$0-zoomfactor;
#X obj 42 227 t b f;
#X obj 186 505 outlet;
#X msg 258 241 label \$1x;
#X obj 42 171 5;
#X connect 0 0 7 0;
#X connect 1 0 30 0;
#X connect 1 1 2 1;
#X connect 2 0 3 0;
#X connect 2 0 4 0;
#X connect 2 0 22 0;
#X connect 2 0 27 0;
#X connect 4 0 29 0;
#X connect 6 0 8 0;
#X connect 7 0 6 0;
#X connect 7 1 8 1;
#X connect 8 0 9 0;
#X connect 9 0 1 0;
#X connect 10 0 11 3;
#X connect 11 0 12 0;
#X connect 12 0 17 0;
#X connect 13 0 11 0;
#X connect 13 1 11 1;
#X connect 13 2 10 0;
#X connect 14 0 15 0;
#X connect 15 0 13 0;
#X connect 16 0 14 0;
#X connect 16 1 15 1;
#X connect 18 0 11 2;
#X connect 21 0 23 0;
#X connect 22 0 21 0;
#X connect 22 1 23 1;
#X connect 23 0 24 0;
#X connect 23 0 19 0;
#X connect 23 0 25 0;
#X connect 25 0 20 0;
#X connect 27 0 28 0;
#X connect 27 1 26 0;
#X connect 29 0 5 0;
#X connect 30 0 2 0;
#X restore 48 31 pd vzoom;
#N canvas 0 22 294 301 hzoom 0;
#X obj 35 118 pow;
#X obj 35 70 t b f;
#X obj 35 95 f 2;
#X obj 35 47 + 5;
#X floatatom 53 143 8 0 0 0 - - -;
#X obj 35 253 s \$0-IRmonitor-size-label;
#X obj 35 196 makesymbol;
#X obj 35 16 r \$0-log-IRmonitor-size;
#X obj 45 170 s \$0-IRmonitor-size;
#X msg 35 224 label hzoom:\$1samples;
#X connect 0 0 4 0;
#X connect 0 0 6 0;
#X connect 0 0 8 0;
#X connect 1 0 2 0;
#X connect 1 1 0 1;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 6 0 9 0;
#X connect 7 0 3 0;
#X connect 9 0 5 0;
#X restore 330 69 pd hzoom;
#X obj 32 10 r \$0-IRmonitor-size;
#X obj 203 13 r \$0-IRcentering;
#X obj 32 108 f;
#X obj 246 40 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X floatatom 258 223 8 0 0 0 - - -;
#X floatatom 293 143 8 0 0 0 - - -;
#X obj 203 40 t b f;
#X floatatom 259 167 8 0 0 0 - - -;
#X obj 230 92 sel 0 1;
#X obj 259 117 f;
#X obj 259 143 / -2;
#X obj 230 70 f;
#X obj 32 77 t f b f;
#X obj 245 189 r \$0-chirpsize;
#X obj 32 418 clip -1 1;
#X obj 32 363 * 1;
#X obj 47 338 r \$0-zoomfactor;
#X floatatom 61 364 8 0 0 0 - - -;
#X obj 32 55 f;
#X obj 327 419 table \$0-trimmed-IR;
#X obj 173 418 tabwrite \$0-trimmed-IR;
#X obj 333 339 s \$0-trimmed-IR;
#X obj 344 277 r \$0-viewlist-trimmed-IR;
#X msg 230 144 0;
#X msg 195 277 arrayviewclose;
#X obj 108 31 r \$0-IR-done;
#X connect 0 0 5 0;
#X connect 0 1 1 1;
#X connect 0 1 35 1;
#X connect 3 0 2 0;
#X connect 3 0 36 0;
#X connect 4 0 0 0;
#X connect 5 0 8 0;
#X connect 7 0 4 0;
#X connect 7 1 3 0;
#X connect 7 1 10 0;
#X connect 8 0 30 0;
#X connect 8 0 35 0;
#X connect 9 0 36 0;
#X connect 10 0 4 1;
#X connect 12 0 6 0;
#X connect 12 0 5 1;
#X connect 13 0 33 0;
#X connect 15 0 33 0;
#X connect 16 0 18 0;
#X connect 16 0 21 0;
#X connect 17 0 7 0;
#X connect 21 0 17 0;
#X connect 21 1 26 0;
#X connect 21 1 39 0;
#X connect 23 0 38 0;
#X connect 23 1 24 0;
#X connect 24 0 20 0;
#X connect 24 0 25 0;
#X connect 25 0 12 0;
#X connect 25 0 22 0;
#X connect 26 0 23 0;
#X connect 27 0 17 0;
#X connect 27 1 26 0;
#X connect 27 1 39 0;
#X connect 27 2 24 1;
#X connect 27 2 11 0;
#X connect 28 0 12 1;
#X connect 28 0 19 0;
#X connect 29 0 1 0;
#X connect 30 0 29 0;
#X connect 31 0 30 1;
#X connect 31 0 32 0;
#X connect 33 0 27 0;
#X connect 37 0 9 0;
#X connect 38 0 12 0;
#X connect 39 0 36 0;
#X connect 39 0 2 0;
#X connect 40 0 33 0;
#X restore 667 102 pd IRmonitor;
#X obj 41 512 hradio 30 1 1 13 \$0-log-IRmonitor-size \$0-IRmonitor-size-label
hzoom:8192samples 0 -10 0 10 -203904 -260097 -1 8;
#X obj 670 263 vradio 30 1 1 6 \$0-log-vzoom \$0-vzoom-label 1x 0 -8
0 10 -203904 -260097 -1 5;
#X text 667 228 vzoom:;
#X floatatom 668 194 8 0 0 0 ----- #0-vplus -;
#X floatatom 670 474 8 0 0 0 ----- #0-vminus -;
#X obj 496 512 tgl 30 1 \$0-IRcentering empty centered-IR 34 15 0 10
-203904 -1 -1 1 1;
#X obj 609 512 bng 30 250 50 0 \$0-viewlist-trimmed-IR empty empty
17 7 0 10 -203904 -260097 -1;
#X text 644 517 list;
#N canvas 274 71 697 567 spectral-data 0;
#X obj 60 97 inlet;
#N canvas 49 41 935 531 compute-spectral-data 0;
#X obj 60 129 switch~;
#X msg 60 103 set \$1;
#X obj 41 175 tabplay~ \$0-trimmed-IR;
#X obj 14 384 tabwrite~ \$0-IR-magnitude-spectrum;
#X obj 41 245 fft~;
#X obj 99 351 tabwrite~ \$0-IR-phase-spectrum;
#X obj 60 75 r \$0-IRmonitor-size;
#X obj 752 228 r \$0-IRmonitor-size;
#X obj 766 368 s \$0-IR-magnitude-spectrum;
#X obj 752 395 s \$0-IR-phase-spectrum;
#X floatatom 760 60 8 0 0 0 - - -;
#X obj 170 208 s \$0-spectrum-done;
#X obj 751 190 s \$0-magnitudes-high;
#X obj 763 166 s \$0-magnitudes-low;
#X obj 774 113 s \$0-phases-low;
#X obj 773 137 s \$0-phases-high;
#X floatatom 762 253 8 0 0 0 - - -;
#X obj 301 192 tabread \$0-IR-magnitude-spectrum;
#X obj 301 141 t f f;
#X obj 301 112 for++;
#X obj 751 4 r \$0-IRmonitor-size;
#X obj 314 33 r \$0-IRmonitor-size;
#X obj 314 84 - 1;
#X obj 301 8 r \$0-spectrum-done;
#X obj 261 27 bng 30 250 50 0 empty empty empty 17 7 0 10 -262144 -260097
-1;
#X floatatom 341 113 8 0 0 0 - - -;
#X obj 301 218 tabwrite \$0-magnitudes-low;
#X obj 537 211 tabread \$0-IR-magnitude-spectrum;
#X obj 537 160 t f f;
#X obj 537 186 +;
#X obj 537 131 for++;
#X obj 581 24 r \$0-IRmonitor-size;
#X obj 550 104 - 1;
#X obj 537 2 r \$0-spectrum-done;
#X floatatom 608 132 8 0 0 0 - - -;
#X obj 581 76 / 2;
#X obj 581 49 t f f;
#X obj 581 104 -;
#X obj 499 62 bng 30 250 50 0 empty empty empty 17 7 0 10 -262144 -260097
-1;
#X obj 537 237 tabwrite \$0-magnitudes-high;
#X msg 752 278 arrayviewclose \, resize \$1;
#X msg 751 84 arrayviewclose \, resize \$1;
#X obj 302 391 t f f;
#X obj 302 362 for++;
#X obj 315 283 r \$0-IRmonitor-size;
#X obj 315 334 - 1;
#X obj 302 258 r \$0-spectrum-done;
#X obj 262 277 bng 30 250 50 0 empty empty empty 17 7 0 10 -262144
-260097 -1;
#X floatatom 342 363 8 0 0 0 - - -;
#X obj 302 443 tabread \$0-IR-phase-spectrum;
#X obj 302 468 tabwrite \$0-phases-low;
#X obj 537 425 t f f;
#X obj 537 451 +;
#X obj 537 396 for++;
#X obj 581 289 r \$0-IRmonitor-size;
#X obj 550 369 - 1;
#X obj 537 267 r \$0-spectrum-done;
#X floatatom 619 391 8 0 0 0 - - -;
#X obj 581 341 / 2;
#X obj 581 314 t f f;
#X obj 581 369 -;
#X obj 499 327 bng 30 250 50 0 empty empty empty 17 7 0 10 -262144
-260097 -1;
#X obj 537 476 tabread \$0-IR-phase-spectrum;
#X obj 537 502 tabwrite \$0-phases-high;
#X obj 581 397 + 1;
#X obj 581 131 + 1;
#X obj 314 59 / 64;
#X obj 315 309 / 64;
#X obj 608 76 / 64;
#X obj 608 341 / 64;
#X obj 751 33 / 64;
#N canvas 346 22 370 424 window? 0;
#X obj 22 27 inlet~;
#X obj 126 313 r \$0-windowstatus;
#X obj 22 365 *~;
#X obj 96 27 inlet;
#X obj 77 348 mux~;
#X obj 77 313 sig~ 1;
#X floatatom 126 349 5 0 0 0 - - -;
#X obj 22 391 outlet~;
#X obj 171 351 change;
#X obj 171 390 s \$0-spectrum-recompute;
#X obj 96 76 count~ 0 8192;
#X obj 96 131 cos~;
#X obj 96 104 /~ 8192;
#X obj 215 25 r \$0-IRmonitor-size;
#X obj 217 351 change;
#X obj 96 155 *~ -0.5;
#X obj 96 179 +~ 0.5;
#X floatatom 231 65 8 0 0 0 - - -;
#X obj 109 51 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 1 0 6 0;
#X connect 1 0 8 0;
#X connect 2 0 7 0;
#X connect 3 0 10 0;
#X connect 4 0 2 1;
#X connect 5 0 4 0;
#X connect 8 0 9 0;
#X connect 10 0 12 0;
#X connect 11 0 15 0;
#X connect 12 0 11 0;
#X connect 13 0 10 1;
#X connect 13 0 12 1;
#X connect 13 0 14 0;
#X connect 13 0 17 0;
#X connect 14 0 9 0;
#X connect 15 0 16 0;
#X connect 16 0 4 1;
#X connect 18 0 10 0;
#X restore 41 215 pd window?;
#X obj 14 72 bang;
#X obj 14 16 inlet;
#X obj 18 459 s \$0-windowstatus;
#X obj 18 422 tgl 25 0 empty empty empty 17 7 0 10 -228856 -1 -1 0
1;
#X text 48 426 Hann window;
#N canvas 27 408 454 232 phase 0;
#X obj 27 15 inlet~;
#X obj 78 16 inlet~;
#X obj 78 148 atan2~;
#X obj 78 187 outlet~;
#X obj 126 54 count~;
#X obj 175 15 r \$0-IRmonitor-size;
#X obj 126 16 inlet;
#X floatatom 175 55 8 0 0 0 - - -;
#X obj 78 117 *~;
#X obj 111 117 *~;
#X obj 303 52 r \$0-phase-alternator;
#X obj 126 79 expr~ if($f2 \, pow(-1 \, $v1) \, 1);
#X floatatom 319 80 5 0 0 0 - - -;
#X connect 0 0 9 0;
#X connect 1 0 8 0;
#X connect 2 0 3 0;
#X connect 4 0 11 0;
#X connect 5 0 7 0;
#X connect 5 0 4 1;
#X connect 6 0 4 0;
#X connect 8 0 2 0;
#X connect 9 0 2 1;
#X connect 10 0 11 1;
#X connect 10 0 12 0;
#X connect 11 0 8 1;
#X connect 11 0 9 1;
#X restore 99 315 pd phase;
#X obj 60 16 r \$0-phase-alternator;
#X obj 60 41 pipe 20;
#N canvas 0 22 228 202 pyth~ 0;
#X obj 35 25 inlet~;
#X obj 98 25 inlet~;
#X obj 35 69 *~;
#X obj 98 69 *~;
#X obj 35 129 sqrt~;
#X obj 35 100 +~;
#X obj 35 163 outlet~;
#X connect 0 0 2 0;
#X connect 0 0 2 1;
#X connect 1 0 3 0;
#X connect 1 0 3 1;
#X connect 2 0 5 0;
#X connect 3 0 5 1;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X restore 41 314 pd pyth~;
#X connect 1 0 0 0;
#X connect 2 0 71 0;
#X connect 2 1 11 0;
#X connect 4 0 77 0;
#X connect 4 0 80 0;
#X connect 4 1 77 1;
#X connect 4 1 80 1;
#X connect 6 0 1 0;
#X connect 7 0 16 0;
#X connect 7 0 40 0;
#X connect 17 0 26 0;
#X connect 18 0 17 0;
#X connect 18 1 26 1;
#X connect 19 0 18 0;
#X connect 20 0 70 0;
#X connect 21 0 66 0;
#X connect 22 0 19 1;
#X connect 22 0 25 0;
#X connect 23 0 19 0;
#X connect 24 0 19 0;
#X connect 27 0 39 0;
#X connect 28 0 29 0;
#X connect 28 1 39 1;
#X connect 29 0 27 0;
#X connect 30 0 28 0;
#X connect 31 0 36 0;
#X connect 32 0 30 1;
#X connect 33 0 30 0;
#X connect 35 0 37 0;
#X connect 36 0 35 0;
#X connect 36 1 68 0;
#X connect 37 0 34 0;
#X connect 37 0 65 0;
#X connect 38 0 30 0;
#X connect 40 0 8 0;
#X connect 40 0 9 0;
#X connect 41 0 12 0;
#X connect 41 0 13 0;
#X connect 41 0 14 0;
#X connect 41 0 15 0;
#X connect 42 0 49 0;
#X connect 42 1 50 1;
#X connect 43 0 42 0;
#X connect 44 0 67 0;
#X connect 45 0 43 1;
#X connect 45 0 48 0;
#X connect 46 0 43 0;
#X connect 47 0 43 0;
#X connect 49 0 50 0;
#X connect 51 0 52 0;
#X connect 51 1 63 1;
#X connect 52 0 62 0;
#X connect 53 0 51 0;
#X connect 54 0 59 0;
#X connect 55 0 53 1;
#X connect 56 0 53 0;
#X connect 58 0 60 0;
#X connect 59 0 58 0;
#X connect 59 1 69 0;
#X connect 60 0 57 0;
#X connect 60 0 64 0;
#X connect 61 0 53 0;
#X connect 62 0 63 0;
#X connect 64 0 52 1;
#X connect 65 0 29 1;
#X connect 66 0 22 0;
#X connect 67 0 45 0;
#X connect 68 0 32 0;
#X connect 68 0 37 1;
#X connect 69 0 55 0;
#X connect 69 0 60 1;
#X connect 70 0 10 0;
#X connect 70 0 41 0;
#X connect 71 0 4 0;
#X connect 72 0 0 0;
#X connect 72 0 2 0;
#X connect 72 0 3 0;
#X connect 72 0 5 0;
#X connect 72 0 71 1;
#X connect 72 0 77 2;
#X connect 73 0 72 0;
#X connect 75 0 74 0;
#X connect 77 0 5 0;
#X connect 78 0 79 0;
#X connect 79 0 72 0;
#X connect 80 0 3 0;
#X restore 60 73 pd compute-spectral-data;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-IR-phase-spectrum 8192 float 0;
#X coords 0 3.17 8191 -3.17 200 140 1;
#X restore 58 407 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-phases-low 128 float 0;
#X coords 0 3.17 127 -3.17 200 140 1;
#X restore 270 407 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-phases-high 128 float 0;
#X coords 0 3.17 127 -3.17 200 140 1;
#X restore 481 407 graph;
#X text 33 246 1;
#X text 32 467 0;
#X text 68 359 full complex spectrum;
#X text 114 29 (re)compute spectral data;
#X obj 312 131 s \$0-IR-magnitude-spectrum;
#X obj 321 103 s \$0-IR-phase-spectrum;
#X msg 312 78 arrayviewlistnew;
#X msg 60 121 \; pd-spectral-data vis 1;
#X text 366 29 view lists;
#X obj 59 254 cnv 15 620 94 empty empty empty 20 12 0 14 -233017 -66577
0;
#X text 34 337 0;
#X text 30 400 pi;
#X text 29 534 -pi;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-IR-magnitude-spectrum 8192 float 0;
#X coords 0 1.5 8191 0 200 140 1;
#X restore 59 208 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-magnitudes-low 128 float 0;
#X coords 0 1.5 127 0 200 140 1;
#X restore 270 208 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-magnitudes-high 128 float 0;
#X coords 0 1.5 127 0 200 140 1;
#X restore 480 208 graph;
#X text 58 164 all scales linear;
#X text 268 164 << frequencies >>;
#X text 22 287 magn.;
#X text 284 358 lowest 1/64 of spectrum;
#X text 495 355 high 1/64 just before Nyquist;
#X obj 60 11 bng 50 250 50 0 empty empty 1 20 25 0 20 -203904 -262144
-1;
#X obj 312 13 bng 50 250 50 0 empty empty 2 20 25 0 20 -203904 -262144
-1;
#X obj 534 78 s \$0-phase-alternator;
#X obj 534 15 tgl 50 1 empty empty empty 17 7 0 10 -203904 -1 -1 1
1;
#X text 532 101 alternate phases;
#N canvas 156 241 1001 450 larger-plot 0;
#X obj 72 169 cnv 15 400 200 empty empty empty 20 12 0 14 -233017 -66577
0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-larger-plot 128 float 0;
#X coords 0 1.5 127 0 400 300 1;
#X restore 72 70 graph;
#X obj 540 302 tabread \$0-IR-magnitude-spectrum;
#X obj 540 272 t f f;
#X obj 540 243 for++;
#X obj 553 139 r \$0-IRmonitor-size;
#X obj 553 190 - 1;
#X obj 540 114 r \$0-spectrum-done;
#X floatatom 563 217 8 0 0 0 - - -;
#X obj 540 328 tabwrite \$0-larger-plot;
#X msg 619 230 resize \$1;
#X obj 619 260 s \$0-larger-plot;
#X text 53 359 0;
#X text 52 161 1;
#X text 51 257 A;
#X text 70 382 freq >> (linear);
#X obj 553 166 / 1024;
#X obj 760 301 tabread \$0-IR-magnitude-spectrum;
#X obj 760 250 t f f;
#X obj 760 276 +;
#X obj 760 221 for++;
#X obj 804 85 r \$0-IRmonitor-size;
#X obj 773 165 - 1;
#X floatatom 812 194 8 0 0 0 - - -;
#X obj 804 137 / 2;
#X obj 804 110 t f f;
#X obj 804 165 -;
#X obj 804 221 + 1;
#X obj 831 137 / 64;
#X obj 760 327 tabwrite \$0-larger-plot;
#X obj 760 22 bng 30 250 50 0 empty empty empty 17 7 0 10 -262144 -260097
-1;
#X msg 879 200 resize \$1;
#X obj 879 230 s \$0-larger-plot;
#X obj 879 174 f;
#X obj 760 59 t b b;
#X text 567 35 low end (default);
#X text 800 26 high end;
#X obj 526 28 bng 30 250 50 0 empty empty empty 17 7 0 10 -262144 -260097
-1;
#X text 70 35 spectrum zoom view: exponential chirp;
#X obj 526 71 t b b;
#X obj 619 203 f;
#X text 186 386 lowest 1/1024 of spectrum;
#X text 187 406 or highest 1/64 before Nyquist;
#X connect 2 0 9 0;
#X connect 3 0 2 0;
#X connect 3 1 9 1;
#X connect 4 0 3 0;
#X connect 5 0 16 0;
#X connect 6 0 4 1;
#X connect 6 0 8 0;
#X connect 7 0 4 0;
#X connect 10 0 11 0;
#X connect 16 0 6 0;
#X connect 16 0 40 1;
#X connect 17 0 29 0;
#X connect 18 0 19 0;
#X connect 18 1 29 1;
#X connect 19 0 17 0;
#X connect 20 0 18 0;
#X connect 21 0 25 0;
#X connect 22 0 20 1;
#X connect 24 0 26 0;
#X connect 25 0 24 0;
#X connect 25 1 28 0;
#X connect 26 0 23 0;
#X connect 26 0 27 0;
#X connect 27 0 19 1;
#X connect 28 0 22 0;
#X connect 28 0 26 1;
#X connect 28 0 33 1;
#X connect 30 0 34 0;
#X connect 31 0 32 0;
#X connect 33 0 31 0;
#X connect 34 0 20 0;
#X connect 34 1 33 0;
#X connect 37 0 39 0;
#X connect 39 0 4 0;
#X connect 39 1 40 0;
#X connect 40 0 10 0;
#X restore 541 151 pd larger-plot;
#X connect 0 0 12 0;
#X connect 0 0 26 0;
#X connect 11 0 9 0;
#X connect 11 0 10 0;
#X connect 26 0 1 0;
#X connect 27 0 11 0;
#X connect 29 0 28 0;
#X restore 353 73 pd spectral-data;
#N canvas 158 156 683 491 chirp&inverse 0;
#X obj 33 281 bng 50 250 50 0 \$0-compute-chirp empty empty 17 7 0
10 -203904 -262144 -1;
#X obj 464 408 inlet;
#X obj 380 252 cyclone/Scope~ 267 132 128 3 128 -1 1 0 0 0 0 102 255
51 30 30 30 0;
#X obj 458 56 hsl 128 15 0 0.5 0 0 empty empty audiolevel 20 8 0 10
-203904 -260097 -1 0 1;
#X obj 529 150 hsl 128 15 0.14 1 0 1 empty empty visual-scale 20 8
0 10 -203904 -260097 -1 12700 0;
#X floatatom 539 177 5 0 0 0 - - -;
#X floatatom 467 83 5 0 0 0 - - -;
#X obj 33 116 hradio 25 1 1 10 \$0-chirpsize-button \$0-chirpsize-button-receive
chirpsize:9.97882seconds 0 -10 0 10 -203904 -260097 -1 4;
#X obj 33 346 bng 50 250 50 0 \$0-abort-chirp empty empty 17 7 0 10
-203904 -262144 -1;
#X text 90 362 abort;
#X msg 464 433 \; pd-chirp&inverse vis 1;
#X text 91 297 generate chirp;
#N canvas 433 262 448 394 generate-chirp 0;
#X obj 30 314 tabwrite~ \$0-chirp;
#X obj 58 286 tabwrite~ \$0-invchirp;
#X obj 196 59 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#N canvas 189 342 308 363 chirpsize 0;
#X obj 27 312 outlet;
#X obj 158 142 samplerate~;
#X obj 170 120 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 27 159 * 44100;
#X obj 131 63 loadbang;
#X obj 27 105 f 10;
#X obj 131 88 t b b;
#X obj 27 9 r \$0-chirpsize-button;
#X obj 37 133 s \$0-chirpseconds;
#X obj 107 312 s \$0-chirpsize-button-receive;
#X floatatom 168 168 5 0 0 0 - - -;
#X obj 27 55 + 1;
#X obj 27 32 pipe 200;
#X obj 27 80 * 2;
#X msg 27 285 maxsize \$1;
#X msg 107 285 label chirpsize:<\$1seconds;
#X obj 119 195 r \$0-chirpsize;
#X obj 119 226 / 44100;
#X msg 119 255 label chirpsize:\$1seconds;
#X connect 1 0 3 1;
#X connect 1 0 10 0;
#X connect 1 0 17 1;
#X connect 2 0 1 0;
#X connect 3 0 14 0;
#X connect 4 0 6 0;
#X connect 5 0 3 0;
#X connect 5 0 8 0;
#X connect 5 0 15 0;
#X connect 6 0 5 0;
#X connect 6 1 1 0;
#X connect 7 0 12 0;
#X connect 11 0 13 0;
#X connect 12 0 11 0;
#X connect 13 0 5 0;
#X connect 14 0 0 0;
#X connect 15 0 9 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 9 0;
#X restore 40 52 pd chirpsize;
#X obj 196 0 r \$0-compute-chirp;
#X obj 30 0 r \$0-abort-chirp;
#X msg 30 27 abort;
#X obj 13 351 s~ \$0-chirpsignal;
#X obj 329 88 for++;
#X obj 329 34 - 100;
#X obj 342 0 r \$0-chirpsize;
#X obj 342 61 - 1;
#X obj 329 141 tabread \$0-chirp;
#X obj 329 227 print;
#X obj 329 112 t f f;
#X obj 329 199 pack;
#X obj 329 170 swap;
#X obj 303 45 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 196 28 t b b;
#X text 325 252 print end of chirp;
#X obj 30 146 expochirp~;
#X obj 87 259 s \$0-chirpsize;
#X floatatom 105 186 8 0 0 0 - - -;
#X text 157 186 samples;
#N canvas 354 125 222 309 resize-tables 0;
#X obj 34 16 inlet;
#X msg 63 124 resize \$1;
#X obj 87 154 s \$0-chirp;
#X obj 63 180 s \$0-invchirp;
#X obj 34 261 s \$0-impulse-response;
#X obj 34 210 * 2;
#X msg 34 236 resize \$1;
#X obj 84 16 loadbang;
#X obj 34 65 f;
#X msg 84 41 8192;
#X connect 0 0 8 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 7 0 9 0;
#X connect 8 0 5 0;
#X connect 8 0 1 0;
#X connect 9 0 8 0;
#X restore 99 226 pd resize-tables;
#N canvas 114 404 253 238 octaves 0;
#X obj 31 201 outlet;
#X obj 31 17 r \$0-octaves-button;
#X msg 31 174 octaves \$1;
#X obj 68 112 s \$0-octaves-button-receive;
#X obj 31 39 + 6;
#X floatatom 74 56 5 0 0 0 - - -;
#X obj 45 150 s \$0-octaves;
#X msg 68 87 label octaves:\$1;
#X text 110 55 octaves;
#X connect 1 0 4 0;
#X connect 2 0 0 0;
#X connect 4 0 5 0;
#X connect 4 0 2 0;
#X connect 4 0 6 0;
#X connect 4 0 7 0;
#X connect 7 0 3 0;
#X restore 55 78 pd octaves;
#N canvas 386 22 242 352 fade-in 0;
#X obj 20 15 r \$0-fadein-button;
#X obj 51 250 s \$0-fadein-button-receive;
#X msg 51 219 label fade-in:\$1;
#X obj 20 315 outlet;
#X msg 20 286 fadein \$1;
#X obj 51 80 sel 0 1;
#X obj 51 146 symbol;
#X msg 51 112 false;
#X msg 98 112 true;
#X obj 62 183 s \$0-fade-in-symbol;
#X obj 53 46 s \$0-fade-in;
#X connect 0 0 4 0;
#X connect 0 0 5 0;
#X connect 0 0 10 0;
#X connect 2 0 1 0;
#X connect 4 0 3 0;
#X connect 5 0 7 0;
#X connect 5 1 8 0;
#X connect 6 0 9 0;
#X connect 6 0 2 0;
#X connect 7 0 6 0;
#X connect 8 0 6 0;
#X restore 68 107 pd fade-in;
#X obj 196 152 s \$0-chirpname;
#X msg 196 103 newchirp;
#X obj 196 127 symbol;
#X obj 235 321 r \$0-chirpsize;
#X obj 235 349 outlet;
#N canvas 0 22 548 212 start-frequency 0;
#N canvas 541 190 272 315 startfrequency 0;
#X obj 26 273 outlet;
#X obj 26 188 samplerate~;
#X obj 53 158 pow;
#X obj 53 109 t b f;
#X msg 53 134 2;
#X obj 26 56 t b f;
#X obj 26 215 /;
#X floatatom 34 246 5 0 0 0 - - -;
#X obj 53 84 + 1;
#X obj 26 23 r \$0-octaves;
#X connect 1 0 6 0;
#X connect 2 0 6 1;
#X connect 3 0 4 0;
#X connect 3 1 2 1;
#X connect 4 0 2 0;
#X connect 5 0 1 0;
#X connect 5 1 8 0;
#X connect 6 0 7 0;
#X connect 6 0 0 0;
#X connect 8 0 3 0;
#X connect 9 0 5 0;
#X restore 61 29 pd startfrequency;
#X obj 61 181 s \$0-startfrequency;
#X obj 77 58 r \$0-fade-in;
#X obj 77 83 + 1;
#X obj 77 113 t b f;
#X obj 61 151 *;
#X floatatom 104 152 5 0 0 0 - - -;
#X text 182 24 The fade-in window is one octave long. The real start
frequency is a function of nominal start frequency and fade-in. With
fade-in true \, real start frequency is doubled respective to nominal
start frequency.;
#X connect 0 0 5 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 5 1;
#X connect 4 1 6 0;
#X connect 5 0 1 0;
#X restore 234 289 pd start-frequency;
#X connect 2 0 1 0;
#X connect 2 0 0 0;
#X connect 2 0 20 0;
#X connect 2 0 28 0;
#X connect 3 0 20 0;
#X connect 4 0 18 0;
#X connect 5 0 6 0;
#X connect 6 0 20 0;
#X connect 8 0 14 0;
#X connect 9 0 8 0;
#X connect 10 0 9 0;
#X connect 10 0 11 0;
#X connect 11 0 8 1;
#X connect 12 0 16 0;
#X connect 14 0 12 0;
#X connect 14 1 16 1;
#X connect 15 0 13 0;
#X connect 16 0 15 0;
#X connect 16 1 15 1;
#X connect 17 0 8 0;
#X connect 18 0 2 0;
#X connect 20 0 7 0;
#X connect 20 0 0 0;
#X connect 20 1 1 0;
#X connect 20 2 21 0;
#X connect 20 2 22 0;
#X connect 20 2 24 0;
#X connect 25 0 20 0;
#X connect 26 0 20 0;
#X connect 28 0 29 0;
#X connect 29 0 27 0;
#X connect 30 0 31 0;
#X restore 211 286 pd generate-chirp;
#X obj 405 217 hsl 128 15 128 2 0 1 empty empty scope-refresh-rate
10 8 0 10 -203904 -260097 -1 0 0;
#X msg 380 433 \; pd dsp 1 \;;
#X obj 380 408 loadbang;
#X obj 33 412 bng 50 250 50 0 \$0-save-chirp empty empty 17 7 0 10
-203904 -262144 -1;
#X text 94 426 save chirp;
#X obj 210 412 bng 50 250 50 0 \$0-load-chirp empty empty 17 7 0 10
-203904 -262144 -1;
#X text 272 427 load chirp;
#N canvas 539 58 400 227 save-load-chirp 0;
#X obj 29 56 r \$0-save-chirp;
#N canvas 0 22 345 277 write-wav 0;
#X obj 41 205 soundfiler;
#X obj 41 70 savepanel;
#X obj 86 123 f \$0;
#X msg 41 180 write -wave -bytes 4 \$1 \$2-chirp \$2-invchirp;
#X obj 86 98 loadbang;
#X floatatom 41 232 8 0 0 0 - - -;
#X obj 66 98 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 41 148 pack s f;
#X floatatom 99 149 5 0 0 0 - - -;
#X obj 41 30 inlet;
#X connect 0 0 5 0;
#X connect 1 0 7 0;
#X connect 2 0 7 1;
#X connect 2 0 8 0;
#X connect 3 0 0 0;
#X connect 4 0 2 0;
#X connect 6 0 2 0;
#X connect 7 0 3 0;
#X connect 9 0 1 0;
#X restore 287 58 pd write-wav;
#N canvas 588 81 555 676 chirp-arrays-to-textfile 0;
#X obj 21 15 inlet;
#X obj 158 622 textfile;
#X msg 120 71 clear;
#X msg 63 404 add2 \$1;
#X msg 49 429 add \;;
#X msg 35 544 add2 \$1;
#X obj 336 510 savepanel;
#X obj 63 377 list-drip;
#X obj 35 517 list-drip;
#X msg 105 145 add chirpsize \$1;
#X msg 21 605 write \$1.xchirp;
#X obj 63 325 tabdump \$0-chirp;
#X obj 35 462 tabdump \$0-invchirp;
#X obj 63 352 prepend chirp;
#X obj 35 490 prepend invchirp;
#X obj 120 95 r \$0-chirpsize;
#X obj 105 119 f;
#X obj 91 197 f;
#X msg 91 222 add octaves \$1;
#X obj 106 171 r \$0-octaves;
#X text 338 67 - chirpsize <value>;
#X text 338 88 - octaves <value>;
#X text 338 134 - chirp <list>;
#X text 338 157 - invchirp <list>;
#X text 196 15 Create a textfile with extension .xchirp \, according
to the following message format:;
#X text 82 428 end chirp message;
#X text 192 123 chirpsize;
#X text 179 324 chirp;
#X text 160 462 inverse chirp;
#X text 161 199 nr. of octaves;
#X floatatom 120 198 5 0 0 0 - - -;
#X floatatom 135 121 8 0 0 0 - - -;
#X obj 92 245 r \$0-fade-in;
#X obj 77 269 f;
#X obj 21 45 t b b b b b b b b;
#X text 338 110 - fade-in <value> (0 or 1);
#X msg 77 294 add fade-in \$1;
#X text 143 271 fade-in;
#X floatatom 104 270 5 0 0 0 - - -;
#N canvas 0 22 270 210 filename 0;
#X obj 32 36 inlet;
#X obj 32 70 hcs/split_path;
#X obj 113 163 s \$0-chirpname;
#X msg 113 107 \$1.xchirp;
#X obj 113 135 symbol;
#X connect 0 0 1 0;
#X connect 1 1 3 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X restore 336 534 pd filename;
#N canvas 635 142 246 281 savepanel 0;
#X obj 25 18 inlet;
#X obj 25 45 ggee/getdir;
#X obj 25 73 hcs/split_path;
#X obj 55 141 hcs/split_path;
#X obj 25 174 outlet;
#X obj 25 110 savepanel;
#X obj 136 227 s \$0-chirpname;
#X msg 136 171 \$1.xchirp;
#X obj 136 199 symbol;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 1 7 0;
#X connect 5 0 3 0;
#X connect 5 0 4 0;
#X connect 7 0 8 0;
#X connect 8 0 6 0;
#X restore 21 577 pd savepanel;
#X connect 0 0 34 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 6 0 39 0;
#X connect 7 0 3 0;
#X connect 8 0 5 0;
#X connect 9 0 1 0;
#X connect 10 0 1 0;
#X connect 11 0 13 0;
#X connect 12 0 14 0;
#X connect 13 0 7 0;
#X connect 14 0 8 0;
#X connect 15 0 16 1;
#X connect 15 0 31 0;
#X connect 16 0 9 0;
#X connect 17 0 18 0;
#X connect 18 0 1 0;
#X connect 19 0 17 1;
#X connect 19 0 30 0;
#X connect 32 0 33 1;
#X connect 32 0 38 0;
#X connect 33 0 36 0;
#X connect 34 0 40 0;
#X connect 34 1 12 0;
#X connect 34 2 4 0;
#X connect 34 3 11 0;
#X connect 34 4 33 0;
#X connect 34 5 17 0;
#X connect 34 6 16 0;
#X connect 34 7 2 0;
#X connect 36 0 1 0;
#X connect 40 0 10 0;
#X restore 29 109 pd chirp-arrays-to-textfile;
#X text 285 38 old;
#N canvas 0 22 456 341 load-wav 0;
#X obj 22 42 openpanel;
#X msg 22 187 read -resize \$1 \$2-chirp \$2-invchirp;
#X obj 67 131 f \$0;
#X obj 67 106 loadbang;
#X obj 47 106 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 22 156 pack s f;
#X floatatom 80 157 5 0 0 0 - - -;
#X obj 22 214 soundfiler;
#X floatatom 34 241 8 0 0 0 - - -;
#X obj 22 265 s \$0-chirpsize;
#X obj 142 296 s \$0-impulse-response;
#X msg 299 241 resize \$1;
#X obj 142 245 * 2;
#X msg 142 271 resize \$1;
#X obj 323 271 s \$0-chirp;
#X obj 299 297 s \$0-invchirp;
#X symbolatom 33 70 60 0 0 0 - - -;
#X obj 22 15 inlet;
#X connect 0 0 5 0;
#X connect 0 0 16 0;
#X connect 1 0 7 0;
#X connect 2 0 5 1;
#X connect 2 0 6 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 1 0;
#X connect 7 0 8 0;
#X connect 7 0 9 0;
#X connect 7 0 11 0;
#X connect 7 0 12 0;
#X connect 11 0 14 0;
#X connect 11 0 15 0;
#X connect 12 0 13 0;
#X connect 13 0 10 0;
#X connect 17 0 0 0;
#X restore 287 86 pd load-wav;
#N canvas 339 22 668 620 textfile-to-arrays 0;
#X obj 27 8 inlet;
#X obj 27 89 openpanel;
#X obj 56 268 textfile;
#X msg 114 200 read \$1;
#X msg 56 510 resize \$1;
#X msg 54 63 clear;
#X msg 99 230 rewind;
#X obj 27 33 t b b;
#X text 100 62 1 - clear textbuffer;
#X text 100 89 2 - open textfile;
#X text 167 200 3 - read textfile into buffer;
#X text 150 230 4 - go to top of file;
#X text 128 464 5 - read chirpsize and resize tables;
#X symbolatom 40 147 60 0 0 0 - - -;
#X floatatom 70 465 8 0 0 0 - - -;
#X floatatom 121 416 5 0 0 0 - - -;
#X text 193 438 6 - read nr of octaves;
#X obj 219 357 tabset \$0-chirp;
#X obj 56 563 s \$0-chirp;
#X obj 69 536 s \$0-invchirp;
#X text 395 327 9 - write invchirp list into invchirp table;
#X obj 168 563 s \$0-impulse-response;
#X obj 168 512 * 2;
#X msg 168 538 resize \$1;
#X obj 56 434 f;
#X obj 110 389 f;
#X obj 110 437 s \$0-octaves;
#X obj 64 486 s \$0-chirpsize;
#X obj 274 329 tabset \$0-invchirp;
#N canvas 0 22 236 144 filename 0;
#X obj 32 36 inlet;
#X obj 32 70 hcs/split_path;
#X obj 113 107 s \$0-chirpname;
#X connect 0 0 1 0;
#X connect 1 1 2 0;
#X restore 51 120 pd filename;
#X obj 56 300 route chirpsize octaves fade-in chirp invchirp;
#X obj 165 355 f;
#X floatatom 172 378 5 0 0 0 - - -;
#N canvas 0 22 231 207 fade-in 0;
#X obj 29 23 inlet;
#X obj 29 53 sel 0 1;
#X obj 29 119 symbol;
#X msg 29 85 false;
#X msg 76 85 true;
#X obj 29 147 s \$0-fade-in-symbol;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 4 0;
#X connect 2 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X restore 165 398 pd fade-in;
#X text 235 397 7 - read fade-in (0 or 1);
#X text 319 357 8 - write chirp list into chirp table;
#X obj 27 169 t b b b b b b s;
#X connect 0 0 7 0;
#X connect 1 0 13 0;
#X connect 1 0 29 0;
#X connect 1 0 36 0;
#X connect 2 0 30 0;
#X connect 3 0 2 0;
#X connect 4 0 18 0;
#X connect 4 0 19 0;
#X connect 5 0 2 0;
#X connect 6 0 2 0;
#X connect 7 0 1 0;
#X connect 7 1 5 0;
#X connect 22 0 23 0;
#X connect 23 0 21 0;
#X connect 24 0 4 0;
#X connect 24 0 22 0;
#X connect 24 0 14 0;
#X connect 24 0 27 0;
#X connect 25 0 26 0;
#X connect 25 0 15 0;
#X connect 30 0 24 0;
#X connect 30 1 25 0;
#X connect 30 2 31 0;
#X connect 30 3 17 0;
#X connect 30 4 28 0;
#X connect 31 0 32 0;
#X connect 31 0 33 0;
#X connect 36 0 2 0;
#X connect 36 1 2 0;
#X connect 36 2 2 0;
#X connect 36 3 2 0;
#X connect 36 4 2 0;
#X connect 36 5 6 0;
#X connect 36 6 3 0;
#X restore 32 169 pd textfile-to-arrays;
#X obj 32 142 r \$0-load-chirp;
#X text 28 6 save chirp & inverse chirp to disk as textfile with extension
.xchirp;
#X obj 29 82 delay 100;
#X connect 0 0 8 0;
#X connect 6 0 5 0;
#X connect 8 0 2 0;
#X restore 210 351 pd save-load-chirp;
#N canvas 444 81 565 522 chirpsegments 0;
#X obj 333 25 r \$0-chirpsize;
#X msg 333 156 resize \$1;
#X obj 333 192 s \$0-chirpsegment;
#X obj 91 300 tabread \$0-chirp;
#X obj 91 219 t f f;
#X obj 91 336 tabwrite \$0-chirpsegment;
#X obj 91 26 bng 30 250 50 0 empty empty empty 17 7 0 10 -262144 -260097
-1;
#X obj 140 25 hradio 15 1 0 8 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X floatatom 339 49 8 0 0 0 - - -;
#X floatatom 150 209 5 0 0 0 - - -;
#X floatatom 140 146 8 0 0 0 - - -;
#X obj 140 120 int;
#X obj 91 254 +;
#X obj 140 81 * 0;
#X floatatom 105 277 8 0 0 0 - - -;
#X obj 91 192 for++;
#X obj 333 125 / 10;
#X obj 347 74 r \$0-octaves;
#X obj 347 99 t b f;
#X obj 76 384 cnv 15 300 100 empty empty empty 20 12 0 14 -233017 -66577
0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-chirpsegment 44006 float 0;
#X coords 0 1 44005 -1 300 100 1;
#X restore 76 384 graph;
#X connect 0 0 8 0;
#X connect 0 0 16 0;
#X connect 1 0 2 0;
#X connect 3 0 5 0;
#X connect 4 0 12 0;
#X connect 4 1 5 1;
#X connect 6 0 15 0;
#X connect 7 0 13 0;
#X connect 11 0 10 0;
#X connect 11 0 12 1;
#X connect 12 0 3 0;
#X connect 12 0 14 0;
#X connect 13 0 11 0;
#X connect 15 0 4 0;
#X connect 15 0 9 0;
#X connect 16 0 1 0;
#X connect 16 0 13 1;
#X connect 16 0 15 1;
#X connect 17 0 18 0;
#X connect 18 0 16 0;
#X connect 18 1 16 1;
#X restore 210 379 pd chirpsegments;
#X obj 33 169 hradio 25 1 1 10 \$0-octaves-button \$0-octaves-button-receive
octaves:10 0 -10 0 10 -203904 -260097 -1 4;
#X obj 380 22 bng 50 250 50 0 empty empty empty 17 7 0 10 -203904 -262144
-1;
#X obj 403 115 bng 50 250 50 0 empty empty empty 17 7 0 10 -203904
-262144 -1;
#X obj 33 216 tgl 50 1 \$0-fadein-button \$0-fadein-button-receive
fade-in:true 60 25 0 10 -203904 -258113 -1 1 1;
#N canvas 0 22 184 231 init-GUIs 0;
#X obj 32 161 s \$0-chirpname;
#X obj 32 37 loadbang;
#X msg 32 72 -;
#X obj 32 105 symbol;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X restore 518 408 pd init-GUIs;
#X text 32 21 Set chirp parameters and generate a chirp.;
#N canvas 0 22 202 280 play-chirp 0;
#X obj 15 18 inlet;
#X obj 147 21 inlet;
#X obj 31 172 dac~;
#X obj 31 143 *~ 0;
#X floatatom 147 52 5 0 0 0 - - -;
#X obj 15 56 tabplay~ \$0-chirp;
#X obj 40 205 r~ \$0-chirpsignal;
#X obj 31 83 r~ \$0-chirpsignal;
#X obj 15 240 outlet~;
#X connect 0 0 5 0;
#X connect 1 0 3 1;
#X connect 1 0 4 0;
#X connect 3 0 2 0;
#X connect 3 0 2 1;
#X connect 5 0 3 0;
#X connect 5 0 8 0;
#X connect 6 0 8 0;
#X connect 7 0 3 0;
#X restore 380 82 pd play-chirp;
#N canvas 0 22 256 206 play-inverse-chirp 0;
#X obj 25 45 inlet;
#X obj 173 45 inlet;
#X obj 25 105 *~ 1;
#X obj 25 76 tabplay~ \$0-invchirp;
#X obj 25 133 outlet~;
#X connect 0 0 3 0;
#X connect 1 0 2 1;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X restore 403 176 pd play-inverse-chirp;
#X text 459 124 (not sent to dac~);
#X floatatom 211 314 8 0 0 0 - - -;
#X text 265 313 samples;
#X floatatom 211 237 8 0 0 0 - #0-startfrequency -;
#X text 207 216 start frequency;
#X text 539 215 CPU-intensive!;
#X obj 34 41 cnv 15 130 50 empty empty empty 20 12 0 14 -260097 -66577
0;
#N canvas 640 59 425 564 parameters-info 0;
#X text 32 25 Number of octaves: only an integer number of octaves
can be selected. Each octave occupies chirpsize/octaves samples in
the chirp. The nominal start frequency is sr/(2^octaves). The stop
frequency is sr/2 by default.;
#X text 15 25 1;
#X text 16 103 2;
#X text 15 191 3;
#X text 35 306 Generate a chirp in realtime \, and store chirp plus
inverse chirp in buffers.;
#X text 18 306 4;
#X text 17 350 5;
#X text 36 395 Save the chirp and inverse chirp with metadatata (chirpsize
\, nr. of octaves \, fade-in true/false) into a textfile for later
use.;
#X text 18 394 6;
#X text 37 449 Optionally load a chirp file (with extension .xchirp)
from disk.;
#X text 19 449 7;
#X text 37 495 Proceed with computing the chirp's deconvolution from
the main window \, and check it's spectral qualities.;
#X text 20 495 8;
#X text 34 192 Fade-in window true or false. Fade-in windowing is highly
recommended \, to reduce/eliminate frequency domain ripple at the low
spectrum side. The window is very long \, effectively shifting the
start frequency one octave up. This may be compensated by extending
the chirp spectrum with an extra octave. When using a fade-in window
\, the practical start frequency is one octave above the nominal start
frequency.;
#X text 33 103 Chirpsize in number of samples is calculated from the
approximate length in seconds \, and the number of octaves. The real
chirpsize is always shorter than set by the user \, in order to end
in sine-phase. This minimizes spectral ripple at the high spectrum
side for.;
#X text 35 350 Click abort when you want to interrupt-stop chirp generation.
;
#X restore 43 57 pd parameters-info;
#X connect 1 0 10 0;
#X connect 3 0 6 0;
#X connect 3 0 28 1;
#X connect 4 0 5 0;
#X connect 4 0 29 1;
#X connect 12 0 31 0;
#X connect 13 0 2 0;
#X connect 15 0 14 0;
#X connect 23 0 28 0;
#X connect 24 0 29 0;
#X connect 28 0 2 0;
#X connect 29 0 2 0;
#X restore 40 73 pd chirp&inverse;
#X floatatom 565 127 12 0 0 0 - #0-chirpsize -;
#X obj 197 15 bng 50 250 50 0 empty empty 2 20 25 0 20 -203904 -262144
-1;
#X obj 353 14 bng 50 250 50 0 empty empty 3 20 25 0 20 -203904 -262144
-1;
#X text 430 127 chirp size in samples;
#X symbolatom 39 169 50 0 0 0 - #0-chirpname -;
#X symbolatom 565 152 12 0 0 0 - #0-fade-in-symbol -;
#X text 515 152 fade-in;
#X obj 36 128 cnv 15 15 15 empty empty expochirp-generator 2 14 0 25
-262144 -66577 0;
#X text 97 14 generate;
#X text 97 33 chirp;
#X text 254 15 compute;
#X text 408 13 check;
#X text 409 30 spectral;
#X text 409 47 data;
#X obj 513 14 bng 50 250 50 0 empty empty 4 20 25 0 20 -203904 -262144
-1;
#N canvas 646 159 333 282 save-IR 0;
#X obj 37 47 inlet;
#X obj 37 215 soundfiler;
#X obj 37 80 savepanel;
#X obj 82 133 f \$0;
#X obj 82 108 loadbang;
#X floatatom 37 242 8 0 0 0 - - -;
#X obj 62 108 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 37 158 pack s f;
#X floatatom 95 159 5 0 0 0 - - -;
#X msg 37 190 write -wave -bytes 4 \$1 \$2-impulse-response;
#X connect 0 0 2 0;
#X connect 1 0 5 0;
#X connect 2 0 7 0;
#X connect 3 0 7 1;
#X connect 3 0 8 0;
#X connect 4 0 3 0;
#X connect 6 0 3 0;
#X connect 7 0 9 0;
#X connect 9 0 1 0;
#X restore 513 73 pd save-IR;
#X text 570 13 save;
#X text 570 30 self-IR;
#X text 254 32 self-IR;
#N canvas 684 386 470 327 deconvolution 0;
#X obj 19 -18 inlet;
#X obj 19 275 tabwrite~ \$0-impulse-response;
#X obj 34 247 /~ 1;
#X floatatom 69 248 10 0 0 0 - - -;
#N canvas 0 22 321 262 set-partconv~ 0;
#X obj 29 194 outlet;
#X obj 29 99 bng 30 250 50 0 empty empty empty 17 7 0 10 -262144 -260097
-1;
#X obj 29 139 f \$0;
#X obj 45 46 r \$0-inverse-done;
#X obj 29 74 pipe 100;
#X text 28 221 [partconv~] needs to reload table content;
#X obj 29 19 inlet;
#X msg 29 166 set \$1-invchirp 4096;
#X connect 1 0 2 0;
#X connect 2 0 7 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 6 0 4 0;
#X connect 7 0 0 0;
#X restore 58 138 pd set-partconv~;
#N canvas 605 370 263 319 computing 0;
#X obj 29 26 inlet;
#X obj 29 294 outlet;
#X obj 29 170 metro;
#X msg 96 108 0;
#X msg 29 78 1;
#X floatatom 127 30 8 0 0 0 - - -;
#X obj 96 85 pipe;
#X obj 29 146 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 29 225 f;
#X obj 44 199 + 1;
#X obj 29 52 t b b;
#X msg 56 78 0;
#X floatatom 38 248 5 0 0 0 - - -;
#X floatatom 129 86 8 0 0 0 - - -;
#X floatatom 68 171 8 0 0 0 - - -;
#X obj 141 295 s \$0-IR-done;
#X obj 141 268 delay 500;
#N canvas 904 166 198 247 chirpmilliseconds 0;
#X obj 27 218 outlet;
#X obj 27 14 r \$0-chirpsize;
#X obj 60 82 samplerate~;
#X obj 60 38 loadbang;
#X obj 74 60 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 60 122 / 1000;
#X floatatom 72 151 8 0 0 0 - - -;
#X obj 27 151 / 44.1;
#X floatatom 42 187 8 0 0 0 - - -;
#X connect 1 0 7 0;
#X connect 2 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 6 0;
#X connect 5 0 7 1;
#X connect 7 0 8 0;
#X connect 7 0 0 0;
#X restore 117 5 pd chirpmilliseconds;
#X obj 117 55 * 2;
#X obj 56 144 / 20;
#X obj 141 242 sel 20;
#X connect 0 0 10 0;
#X connect 2 0 8 0;
#X connect 3 0 7 0;
#X connect 4 0 7 0;
#X connect 6 0 3 0;
#X connect 7 0 2 0;
#X connect 8 0 1 0;
#X connect 8 0 9 0;
#X connect 8 0 12 0;
#X connect 8 0 20 0;
#X connect 9 0 8 1;
#X connect 10 0 4 0;
#X connect 10 0 6 0;
#X connect 10 1 11 0;
#X connect 11 0 8 0;
#X connect 16 0 15 0;
#X connect 17 0 18 0;
#X connect 17 0 5 0;
#X connect 18 0 6 1;
#X connect 18 0 13 0;
#X connect 18 0 19 0;
#X connect 19 0 14 0;
#X connect 19 0 2 1;
#X connect 20 0 16 0;
#X restore 222 241 pd computing;
#X obj 222 274 outlet;
#X obj 19 9 t b b b;
#X obj 19 76 delay 500;
#X obj 34 107 tabplay~ \$0-chirp;
#X obj 34 167 bsaylor/partconv~ \$0-invchirp 4096;
#X obj 55 219 / 2;
#X obj 55 193 r \$0-chirpsize;
#X text 87 219 normalize;
#X msg 161 71 1;
#X msg 195 70 0;
#X obj 195 13 loadbang;
#X obj 208 38 r \$0-IR-done;
#X obj 161 106 switch~ 4096;
#X msg 310 -1 \; pd-chirp&inverse vis 0;
#X text 308 33 close window with scope;
#X text 308 52 to save cpu time;
#X connect 0 0 7 0;
#X connect 0 0 19 0;
#X connect 2 0 1 0;
#X connect 4 0 10 0;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 7 1 5 0;
#X connect 7 2 4 0;
#X connect 7 2 14 0;
#X connect 8 0 1 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 2 0;
#X connect 11 0 2 1;
#X connect 11 0 3 0;
#X connect 12 0 11 0;
#X connect 14 0 18 0;
#X connect 15 0 18 0;
#X connect 16 0 15 0;
#X connect 17 0 15 0;
#X restore 197 74 pd deconvolution;
#X floatatom 565 176 12 0 0 0 - #0-startfrequency -;
#X text 468 175 start frequency;
#X obj 656 16 cnv 15 100 50 empty empty empty 20 12 0 14 -260097 -66577
0;
#N canvas 646 48 411 530 info/help 0;
#X text 35 242 To compute the chirp's impulse response \, it is convolved
with it's own inverse. The impulse response is then shown in the graph
IRmonitor \, for which you can set horizontal and vertical zoom factors.
;
#X text 35 314 You can check the IR's spectral data \, which are computed
for the segment selected in the IR monitor. Notice that centered IR
segment and non-centered (causal) segment have different spectrum.
;
#X text 35 174 First set parameters for the chirp to be generated.
Then generate the chirp \, and wait for the chirp and inverse chirp
buffers to be filled. You may check the buffers by playing them.;
#X text 18 175 1;
#X text 19 242 2;
#X text 20 314 3;
#X obj 199 492 pddplink www.katjaas.nl;
#X text 33 18 This is a Pure Data patch for computing an exponential
chirp & inverse \, and testing the spectral qualities of these.;
#X text 33 493 Katja Vetter march 2011;
#X text 36 378 Frequency ripples for exponential chirps vary according
to parameter settings. A fade-in window is strongly recommended. The
window is very long and stretches over the full first octave.;
#X text 36 443 Chirp and inverse chirp can be stored \, together with
meta-data \, in a textfile with extension .xchirp.;
#X text 33 70 Chirp generation is done by an external object [expochirp~]
which is not in Pd extended distributions. For visualisation of the
signal \, [cyclone/Scope~] is used. Convolution is done by [bsaylor/partconv~]
\, which is in distributions of Pd extended.;
#X restore 667 32 pd info/help;
#X connect 2 0 14 0;
#X connect 16 0 34 0;
#X connect 17 0 13 0;
#X connect 29 0 30 0;
#X connect 34 0 1 0;
